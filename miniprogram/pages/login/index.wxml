<view class="page">
  <view class="header">
    <view class="logo">考勤</view>
    <view>
      <view class="title">账号登录</view>
      <view class="desc">输入账号密码进入智能考勤</view>
    </view>
  </view>

  <view class="card">
    <view class="field">
      <view class="label">账号</view>
      <input
        class="input"
        placeholder="请输入账号"
        placeholder-style="color:#9ca3af;"
        value="{{username}}"
        data-field="username"
        bindinput="handleInput"
      />
    </view>
    <view class="field">
      <view class="label">密码</view>
      <view class="password-row">
        <input
          class="input"
          placeholder="请输入密码"
          placeholder-style="color:#9ca3af;"
          password="{{!showPassword}}"
          value="{{password}}"
          data-field="password"
          bindinput="handleInput"
          confirm-type="done"
          bindconfirm="handleSubmit"
        />
        <text class="eye" bindtap="togglePassword">{{showPassword ? '🙈' : '👁️'}}</text>
      </view>
    </view>
    <view class="error" wx:if="{{errorText}}">{{errorText}}</view>
    <button
      class="primary"
      loading="{{loggingIn}}"
      disabled="{{loggingIn || !canSubmit}}"
      bindtap="handleSubmit"
    >
      {{loggingIn ? '登录中...' : '登录'}}
    </button>
  </view>
</view>
